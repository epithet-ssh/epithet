---
yatl_version: 0
title: Switch broker control socket from net/rpc+GOB to gRPC
id: m66az1s7
created: 2025-12-14T23:32:32.989641Z
updated: 2026-02-16T22:14:17.443813Z
author: Brian McCallister
priority: medium
tags:
- feature
- protocol
---

---
## Log

---
# Log: 2025-12-14T23:32:32Z Brian McCallister

Created task.
---
# Log: 2025-12-14T23:32:38Z Brian McCallister

Goal: Enable cross-platform desktop apps (Swift/macOS, C#/.NET/Windows) to communicate with broker. Current GOB encoding is Go-specific.

---
# Log: 2026-01-28T16:34:07Z Brian McCallister

Motivation: Need server streaming for auth stderr flow to match command (task te). Also benefits remote agent tunneling (task gs) design.

---
# Log: 2026-02-16T22:14:17Z Brian McCallister

Closed: Complete: broker control socket switched from net/rpc+GOB to gRPC. Proto defined in proto/brokerv1/broker.proto, server in pkg/broker/grpc_server.go, clients in cmd/epithet/match.go and inspect.go. No net/rpc or GOB usage remains. Server streaming enabled for Match RPC.
