---
yatl_version: 1
title: Add --no-browser flag to epithet auth oidc
id: 417z44pe
created: 2026-01-14T04:17:33.704889Z
updated: 2026-01-15T05:07:47.239243Z
author: Brian McCallister
priority: medium
tags:
- feature
---

Add a `--no-browser` flag to `epithet auth oidc` that prints the authorization URL to stderr without opening a browser.

This enables automated testing scenarios where the tester can navigate to the URL in a controlled browser context (e.g., MCP tab group) rather than having a separate window opened.

The URL is already printed to stderr with the message "If your browser doesn't open automatically, visit:" - this flag would skip the browser.OpenURL() or custom browser command execution entirely.

Implementation:
- Add `NoBrowser bool` field to AuthOIDCCLI struct
- Pass it through to oidc.Config
- In openBrowser(), if NoBrowser is true, just return nil without opening anything

---
# Log: 2026-01-14T04:17:33Z Brian McCallister

Created task.

---
# Log: 2026-01-14T04:18:40Z Brian McCallister

Started working.

---
# Log: 2026-01-15T05:07:47Z Brian McCallister

Closed: Implemented --no-browser flag for epithet auth oidc. Prints auth URL to stderr (flushed via os.Stderr.Sync) which the broker logs in real-time. User can navigate to URL manually for headless/automated testing scenarios.
