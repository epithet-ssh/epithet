{"id":"epithet-1","title":"Broker authentication mechanism","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:40:58.92359802Z","closed_at":"2025-10-27T18:40:58.92359802Z"}
{"id":"epithet-10","title":"Implement token refresh on certificate expiry","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:35:46.523210836Z","closed_at":"2025-10-27T18:35:46.523210836Z","dependencies":[{"issue_id":"epithet-10","depends_on_id":"epithet-1","type":"parent-child","created_at":"2025-10-22T21:50:03.156820438Z","created_by":"import"}]}
{"id":"epithet-11","title":"Implement error handling and retry logic for auth","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T17:21:33.082072472Z","closed_at":"2025-10-27T17:21:33.082072472Z","dependencies":[{"issue_id":"epithet-11","depends_on_id":"epithet-1","type":"parent-child","created_at":"2025-10-22T21:50:03.158354973Z","created_by":"import"}]}
{"id":"epithet-12","title":"epithet match command implementation","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T17:22:14.776382537Z","closed_at":"2025-10-27T17:22:14.776382537Z"}
{"id":"epithet-13","title":"Broker → CA integration","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:38:35.722939873Z","closed_at":"2025-10-27T18:38:35.722939873Z"}
{"id":"epithet-14","title":"Broker → Agent management","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:40:17.281602379Z","closed_at":"2025-10-27T18:40:17.281602379Z"}
{"id":"epithet-15","title":"Infrastructure improvements","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:40:37.595331223Z","closed_at":"2025-10-27T18:40:37.595331223Z"}
{"id":"epithet-16","title":"Create match command structure accepting --host, --port, --user, --hash arguments","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-22T21:51:21.632855743Z","closed_at":"2025-10-22T16:35:23.674384024Z","dependencies":[{"issue_id":"epithet-16","depends_on_id":"epithet-12","type":"parent-child","created_at":"2025-10-22T21:50:03.159626903Z","created_by":"import"}]}
{"id":"epithet-17","title":"Implement communication protocol with broker (IPC/RPC)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-22T21:51:21.633639628Z","closed_at":"2025-10-22T16:36:08.321394864Z","dependencies":[{"issue_id":"epithet-17","depends_on_id":"epithet-12","type":"parent-child","created_at":"2025-10-22T21:50:03.160880092Z","created_by":"import"}]}
{"id":"epithet-18","title":"Implement 5-step certificate validation workflow","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T17:19:04.728130015Z","closed_at":"2025-10-27T17:19:04.728130015Z","dependencies":[{"issue_id":"epithet-18","depends_on_id":"epithet-12","type":"parent-child","created_at":"2025-10-22T21:50:03.162517224Z","created_by":"import"}]}
{"id":"epithet-19","title":"Add host eligibility checking (match patterns)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T17:19:15.288238817Z","closed_at":"2025-10-27T17:19:15.288238817Z","dependencies":[{"issue_id":"epithet-19","depends_on_id":"epithet-12","type":"parent-child","created_at":"2025-10-22T21:50:03.164036805Z","created_by":"import"}]}
{"id":"epithet-20","title":"Return success/failure to OpenSSH properly","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-22T21:51:21.636024396Z","closed_at":"2025-10-22T16:36:42.750426903Z","dependencies":[{"issue_id":"epithet-20","depends_on_id":"epithet-12","type":"parent-child","created_at":"2025-10-22T21:50:03.165884886Z","created_by":"import"}]}
{"id":"epithet-21","title":"Implement certificate request flow: auth token → CA → signed certificate","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:36:00.010995426Z","closed_at":"2025-10-27T18:36:00.010995426Z","dependencies":[{"issue_id":"epithet-21","depends_on_id":"epithet-13","type":"parent-child","created_at":"2025-10-22T21:50:03.167401745Z","created_by":"import"}]}
{"id":"epithet-22","title":"Pass connection details (host, user, port) to CA for principal determination","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:36:11.003829005Z","closed_at":"2025-10-27T18:36:11.003829005Z","dependencies":[{"issue_id":"epithet-22","depends_on_id":"epithet-13","type":"parent-child","created_at":"2025-10-22T21:50:03.168895926Z","created_by":"import"}]}
{"id":"epithet-23","title":"Handle CA errors and policy denials","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:36:23.198617648Z","closed_at":"2025-10-27T18:36:23.198617648Z","dependencies":[{"issue_id":"epithet-23","depends_on_id":"epithet-13","type":"parent-child","created_at":"2025-10-22T21:50:03.170482185Z","created_by":"import"}]}
{"id":"epithet-24","title":"Store returned certificates with expiry times","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-22T22:41:08.001860311Z","closed_at":"2025-10-22T22:41:08.001860311Z","dependencies":[{"issue_id":"epithet-24","depends_on_id":"epithet-13","type":"parent-child","created_at":"2025-10-22T21:50:03.171975561Z","created_by":"import"}]}
{"id":"epithet-25","title":"Create per-connection agent instances using pkg/agent.Agent","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:36:34.334226137Z","closed_at":"2025-10-27T18:36:34.334226137Z","dependencies":[{"issue_id":"epithet-25","depends_on_id":"epithet-14","type":"parent-child","created_at":"2025-10-22T21:50:03.173462345Z","created_by":"import"}]}
{"id":"epithet-26","title":"Implement map connection hash (%C) → agent instance","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:36:45.03330882Z","closed_at":"2025-10-27T18:36:45.03330882Z","dependencies":[{"issue_id":"epithet-26","depends_on_id":"epithet-14","type":"parent-child","created_at":"2025-10-22T21:50:03.174802469Z","created_by":"import"}]}
{"id":"epithet-27","title":"Implement agent socket path management at ~/.epithet/sockets/%C","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:39:42.321163758Z","closed_at":"2025-10-27T18:39:42.321163758Z","dependencies":[{"issue_id":"epithet-27","depends_on_id":"epithet-14","type":"parent-child","created_at":"2025-10-22T21:50:03.175882522Z","created_by":"import"}]}
{"id":"epithet-28","title":"Implement certificate swapping/renewal in existing agents (via UseCredential)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:39:53.429387843Z","closed_at":"2025-10-27T18:39:53.429387843Z","dependencies":[{"issue_id":"epithet-28","depends_on_id":"epithet-14","type":"parent-child","created_at":"2025-10-22T21:50:03.177036454Z","created_by":"import"}]}
{"id":"epithet-29","title":"Implement agent lifecycle and cleanup","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:40:05.002524521Z","closed_at":"2025-10-27T18:40:05.002524521Z","dependencies":[{"issue_id":"epithet-29","depends_on_id":"epithet-14","type":"parent-child","created_at":"2025-10-22T21:50:03.178146308Z","created_by":"import"}]}
{"id":"epithet-30","title":"Implement match pattern evaluation (which hosts epithet should handle)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:36:58.247517909Z","closed_at":"2025-10-27T18:36:58.247517909Z","dependencies":[{"issue_id":"epithet-30","depends_on_id":"epithet-15","type":"parent-child","created_at":"2025-10-22T21:50:03.179460766Z","created_by":"import"}]}
{"id":"epithet-31","title":"Implement proper error handling throughout broker","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:37:09.326609549Z","closed_at":"2025-10-27T18:37:09.326609549Z","dependencies":[{"issue_id":"epithet-31","depends_on_id":"epithet-15","type":"parent-child","created_at":"2025-10-22T21:50:03.180789813Z","created_by":"import"}]}
{"id":"epithet-32","title":"Add logging and observability","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:37:42.386382597Z","closed_at":"2025-10-27T18:37:42.386382597Z","dependencies":[{"issue_id":"epithet-32","depends_on_id":"epithet-15","type":"parent-child","created_at":"2025-10-22T21:50:03.18182683Z","created_by":"import"}]}
{"id":"epithet-33","title":"Implement socket cleanup on expiration","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:38:00.020978718Z","closed_at":"2025-10-27T18:38:00.020978718Z","dependencies":[{"issue_id":"epithet-33","depends_on_id":"epithet-15","type":"parent-child","created_at":"2025-10-22T21:50:03.182882583Z","created_by":"import"}]}
{"id":"epithet-34","title":"Implement graceful shutdown","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T18:37:20.02844291Z","closed_at":"2025-10-27T18:37:20.02844291Z","dependencies":[{"issue_id":"epithet-34","depends_on_id":"epithet-15","type":"parent-child","created_at":"2025-10-22T21:50:03.183886862Z","created_by":"import"}]}
{"id":"epithet-35","title":"Implement less strict netstring parser that tolerates whitespace for debugging","description":"The current auth plugin protocol uses the markdingo/netstring library which strictly rejects whitespace between netstrings. This makes debugging auth plugins difficult. We should implement a custom netstring parser that tolerates whitespace (spaces, tabs, \\n, \\r) between netstrings while still being strict about the netstring format itself. Location: README.md:85","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T21:08:24.73013439Z","closed_at":"2025-10-27T21:08:24.73013439Z"}
{"id":"epithet-36","title":"Replace /tmp/foooo with proper tempfile location and cleanup in broker_test.go","description":"In pkg/broker/broker_test.go:18, replace hardcoded /tmp/foooo with a proper temporary file that gets cleaned up after tests","status":"closed","priority":3,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-22T21:51:21.653042841Z","closed_at":"2025-10-22T16:17:39.883538258Z"}
{"id":"epithet-37","title":"Fill in the rest of the %C connection fields in broker.go","description":"In pkg/broker/broker.go:30, the ConnectionInfo struct needs the remaining fields from the %C hash (local hostname, remote hostname, port, username, ProxyJump)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-22T21:51:21.653815159Z","closed_at":"2025-10-22T16:18:48.190311982Z"}
{"id":"epithet-38","title":"Wire up epithet match arguments to broker MatchRequest RPC","description":"Add CLI arguments to MatchCLI (--host, --port, --user, --hash) and implement RPC call to broker passing all MatchRequest fields including derived LocalHost/LocalUser","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-22T21:51:21.65471941Z","closed_at":"2025-10-22T16:22:47.109966271Z","dependencies":[{"issue_id":"epithet-38","depends_on_id":"epithet-37","type":"discovered-from","created_at":"2025-10-22T21:50:03.184965853Z","created_by":"import"}]}
{"id":"epithet-39","title":"Implement built-in SAML auth plugin","description":"Add native SAML authentication support as a built-in auth plugin (e.g., `epithet auth saml`).\n\n**Rationale:**\n- SAML is extremely common in enterprise environments\n- Having it built-in avoids users needing to write/maintain external auth commands\n- First priority among planned built-in auth plugins\n\n**Design considerations:**\n- Command invocation: `epithet auth saml` (or similar)\n- Configuration: Read directly from ~/.config/epithet/config file\n- Protocol: Must implement netstring-based auth command protocol (stdin/stdout with 's', 't', 'e' keys)\n- State management: Store SAML session state, refresh tokens in state blob\n- Token output: Return SAML assertion/token via 't' netstring\n\n**Dependencies:**\n- Requires broker auth command mechanism to be implemented first\n- Should follow same protocol as external auth commands for consistency\n\n**Future work:**\n- Other built-in auth plugins (OIDC, Kerberos, etc) can follow similar pattern","status":"open","priority":1,"issue_type":"feature","created_at":"2025-10-22T23:02:36.214234432Z","updated_at":"2025-10-22T23:02:36.214234432Z"}
{"id":"epithet-40","title":"Parse actual certificate expiry instead of hardcoding 5 minutes","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-27T16:48:03.428119187Z","updated_at":"2025-10-27T16:49:48.510714799Z","closed_at":"2025-10-27T16:49:48.510714799Z"}
{"id":"epithet-41","title":"Move certificate expiry extraction to RawCertificate.Expiry() method","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-27T16:52:34.55124188Z","updated_at":"2025-10-27T16:53:46.912922278Z","closed_at":"2025-10-27T16:53:46.912922278Z"}
{"id":"epithet-42","title":"Replace HTTPError with domain-specific CA errors","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-27T17:28:22.39563829Z","updated_at":"2025-10-27T17:29:28.176289481Z","closed_at":"2025-10-27T17:29:28.176289481Z"}
{"id":"epithet-43","title":"Upgrade chi router from v4 to v5","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-27T18:46:59.742330864Z","updated_at":"2025-10-27T18:47:11.192782149Z","closed_at":"2025-10-27T18:47:11.192782149Z"}
{"id":"epithet-7","title":"Implement auth command invocation (stdin/stdout protocol)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-22T22:18:39.64510665Z","closed_at":"2025-10-22T22:18:39.64510665Z","dependencies":[{"issue_id":"epithet-7","depends_on_id":"epithet-1","type":"parent-child","created_at":"2025-10-22T21:50:03.186004366Z","created_by":"import"}]}
{"id":"epithet-8","title":"Implement auth state storage (map of user identity → state blob)","description":"","design":"Auth type already implements state cycling correctly in auth.go:127-171. Task is to change broker from single 'auth *Auth' to 'auths map[string]*Auth' where key is user identity (probably LocalUser from MatchRequest). Need method like GetOrCreateAuth(userID) that returns *Auth for that user.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-22T22:16:49.792978424Z","closed_at":"2025-10-22T22:16:49.792978424Z","dependencies":[{"issue_id":"epithet-8","depends_on_id":"epithet-1","type":"parent-child","created_at":"2025-10-22T21:50:03.187210233Z","created_by":"import"}]}
{"id":"epithet-9","title":"Implement certificate storage (map of connection hash → certificate + expiry)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T21:50:03.150642233Z","updated_at":"2025-10-27T16:50:07.397264271Z","closed_at":"2025-10-27T16:50:07.397264271Z","dependencies":[{"issue_id":"epithet-9","depends_on_id":"epithet-1","type":"parent-child","created_at":"2025-10-22T21:50:03.188216333Z","created_by":"import"}]}
