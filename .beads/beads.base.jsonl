{"id":"epithet-36","title":"Replace /tmp/foooo with proper tempfile location and cleanup in broker_test.go","description":"In pkg/broker/broker_test.go:18, replace hardcoded /tmp/foooo with a proper temporary file that gets cleaned up after tests","status":"closed","priority":3,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-22T16:09:07.715489-07:00","closed_at":"2025-10-22T16:17:39.883538258Z"}
{"id":"epithet-41","title":"Pass connection details to auth command for mustache template rendering","description":"Currently auth.Run() is called with nil. We should pass MatchRequest fields (host, user, port, etc.) so auth commands can use mustache templates like {{host}} or {{user}} in their command line configuration.","status":"open","priority":3,"issue_type":"task","created_at":"2025-10-25T12:11:30.932645-07:00","updated_at":"2025-10-25T12:11:30.932645-07:00","dependencies":[{"issue_id":"epithet-41","depends_on_id":"epithet-1","type":"blocks","created_at":"2025-10-25T12:11:30.934792-07:00","created_by":"daemon"}]}
{"id":"epithet-69","title":"Write documentation for OIDC auth setup","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-09T19:29:43.946655-08:00","updated_at":"2025-11-09T20:18:01.690308-08:00","closed_at":"2025-11-09T20:18:01.690308-08:00"}
{"id":"epithet-39","title":"Implement initial authentication in broker.Match when no token exists","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-25T12:00:33.253643-07:00","updated_at":"2025-10-25T12:05:49.332212-07:00","closed_at":"2025-10-25T12:05:49.332212-07:00","dependencies":[{"issue_id":"epithet-39","depends_on_id":"epithet-1","type":"blocks","created_at":"2025-10-25T12:00:33.256094-07:00","created_by":"daemon"}]}
{"id":"epithet-38","title":"Wire up epithet match arguments to broker MatchRequest RPC","description":"Add CLI arguments to MatchCLI (--host, --port, --user, --hash) and implement RPC call to broker passing all MatchRequest fields including derived LocalHost/LocalUser","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-22T16:09:07.715489-07:00","closed_at":"2025-10-22T16:22:47.109966271Z","dependencies":[{"issue_id":"epithet-38","depends_on_id":"epithet-37","type":"discovered-from","created_at":"2025-10-22T16:09:07.724121-07:00","created_by":"import"}]}
{"id":"epithet-29","title":"Implement agent lifecycle and cleanup","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T15:10:38.697488-07:00","closed_at":"2025-10-25T15:10:38.697488-07:00","dependencies":[{"issue_id":"epithet-29","depends_on_id":"epithet-14","type":"parent-child","created_at":"2025-10-22T16:09:07.722345-07:00","created_by":"import"}]}
{"id":"epithet-51","title":"Migrate to pkg/netstr and remove old netstring library","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-27T15:25:37.455291-07:00","updated_at":"2025-10-27T15:29:54.452211-07:00","closed_at":"2025-10-27T15:29:54.452214-07:00"}
{"id":"epithet-1","title":"Broker authentication mechanism","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-27T16:04:14.581322-07:00","closed_at":"2025-10-27T16:04:14.581325-07:00"}
{"id":"epithet-1b5","title":"Update policy.Policy struct with HostUsers","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-19T17:10:43.85264-08:00","updated_at":"2025-11-19T17:10:43.85264-08:00"}
{"id":"epithet-23","title":"Handle CA errors and policy denials","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-27T16:04:37.717921-07:00","closed_at":"2025-10-27T16:04:37.717927-07:00","dependencies":[{"issue_id":"epithet-23","depends_on_id":"epithet-13","type":"parent-child","created_at":"2025-10-22T16:09:07.720708-07:00","created_by":"import"}]}
{"id":"epithet-17","title":"Implement communication protocol with broker (IPC/RPC)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-22T16:09:07.715489-07:00","closed_at":"2025-10-22T16:36:08.321394864Z","dependencies":[{"issue_id":"epithet-17","depends_on_id":"epithet-12","type":"parent-child","created_at":"2025-10-22T16:09:07.718711-07:00","created_by":"import"}]}
{"id":"epithet-axf","title":"Implement policy evaluation engine","description":"Given validated identity and connection details, look up user in policy config and determine: principals, host pattern match, certificate expiry, extensions. Return CertParams + Policy or 403 if denied.","notes":"COMPLETED: Implemented tag-based authorization system. Users map to tags, tags map to principals per host/default. Algorithm: user has tags → check if requested principal allows any of user's tags → grant single principal (RemoteUser) in cert. Structure: users[identity]→tags, defaults.allow[principal]→allowed_tags, hosts[host].allow[principal]→allowed_tags. Evaluator checks set intersection for authorization. All tests passing. Created epithet-7r8 for future multi-principal cert issuance.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T08:15:04.650341-08:00","updated_at":"2025-11-16T19:23:35.397212-08:00","closed_at":"2025-11-16T18:22:56.340257-08:00","dependencies":[{"issue_id":"epithet-axf","depends_on_id":"epithet-ra1","type":"blocks","created_at":"2025-11-16T08:15:13.530085-08:00","created_by":"daemon"}]}
{"id":"epithet-12","title":"epithet match command implementation","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T15:28:22.033941-07:00","closed_at":"2025-10-25T15:28:22.033941-07:00"}
{"id":"epithet-62","title":"Replace Go policy Lambda with Python implementation","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-02T14:51:59.946139-08:00","updated_at":"2025-11-02T14:51:59.946139-08:00"}
{"id":"epithet-4g1","title":"Add CloudWatch alarms - Configure alarms for Lambda errors, API Gateway 5xx, and Secrets Manager failures","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:43.348491-08:00","updated_at":"2025-11-13T19:44:43.348491-08:00","dependencies":[{"issue_id":"epithet-4g1","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:18.951826-08:00","created_by":"daemon"}]}
{"id":"epithet-tr1","title":"Copy Terraform/OpenTofu deployment examples","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T08:04:32.192805-08:00","updated_at":"2025-11-18T08:40:30.362903-08:00","closed_at":"2025-11-18T08:40:30.362903-08:00"}
{"id":"epithet-02i","title":"Create policy server HTTP handler","description":"Implement HTTP handler matching pkg/ca protocol: accept policy request with token+signature+connection, validate CA signature, call token validator + policy engine, return cert params or appropriate error codes (401/403/500).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T08:15:04.692318-08:00","updated_at":"2025-11-17T08:50:25.510464-08:00","closed_at":"2025-11-17T08:50:25.510464-08:00","dependencies":[{"issue_id":"epithet-02i","depends_on_id":"epithet-2u7","type":"blocks","created_at":"2025-11-16T08:15:23.421772-08:00","created_by":"daemon"},{"issue_id":"epithet-02i","depends_on_id":"epithet-axf","type":"blocks","created_at":"2025-11-16T08:15:23.456233-08:00","created_by":"daemon"}]}
{"id":"epithet-28","title":"Implement certificate swapping/renewal in existing agents (via UseCredential)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T15:10:38.620417-07:00","closed_at":"2025-10-25T15:10:38.620417-07:00","dependencies":[{"issue_id":"epithet-28","depends_on_id":"epithet-14","type":"parent-child","created_at":"2025-10-22T16:09:07.722075-07:00","created_by":"import"}]}
{"id":"epithet-qmf","title":"Enable Lambda versioning - Add Lambda aliases for blue/green deployments and rollback capability","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:58.198311-08:00","updated_at":"2025-11-13T19:44:58.198311-08:00","dependencies":[{"issue_id":"epithet-qmf","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:19.112133-08:00","created_by":"daemon"}]}
{"id":"epithet-24","title":"Store returned certificates with expiry times","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T15:10:13.727953-07:00","closed_at":"2025-10-25T15:10:13.727953-07:00","dependencies":[{"issue_id":"epithet-24","depends_on_id":"epithet-13","type":"parent-child","created_at":"2025-10-22T16:09:07.720997-07:00","created_by":"import"}]}
{"id":"epithet-7","title":"Implement auth command invocation (stdin/stdout protocol)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-22T16:09:07.715489-07:00","closed_at":"2025-10-22T22:18:39.64510665Z","dependencies":[{"issue_id":"epithet-7","depends_on_id":"epithet-1","type":"parent-child","created_at":"2025-10-22T16:09:07.72441-07:00","created_by":"import"}]}
{"id":"epithet-abk","title":"Update AWS Lambda CA example to use external policy server","description":"Update examples/aws-lambda CA configuration to point to external policy server URL via environment variable instead of bundling policy code together.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-09T20:37:21.067214-08:00","updated_at":"2025-11-09T20:37:21.067214-08:00"}
{"id":"epithet-13","title":"Broker → CA integration","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-27T16:04:51.937739-07:00","closed_at":"2025-10-27T16:04:51.937744-07:00"}
{"id":"epithet-35","title":"Implement less strict netstring parser that tolerates whitespace for debugging","description":"The current auth plugin protocol uses the markdingo/netstring library which strictly rejects whitespace between netstrings. This makes debugging auth plugins difficult. We should implement a custom netstring parser that tolerates whitespace (spaces, tabs, \\n, \\r) between netstrings while still being strict about the netstring format itself. Location: README.md:85","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-27T15:29:47.238797-07:00","closed_at":"2025-10-27T15:29:47.2388-07:00"}
{"id":"epithet-31","title":"Implement proper error handling throughout broker","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-27T16:04:37.796476-07:00","closed_at":"2025-10-27T16:04:37.796482-07:00","dependencies":[{"issue_id":"epithet-31","depends_on_id":"epithet-15","type":"parent-child","created_at":"2025-10-22T16:09:07.722886-07:00","created_by":"import"}]}
{"id":"epithet-bgl","title":"Build basic OIDC-based policy server","description":"Create a built-in policy server that validates OIDC tokens and uses static user→policy mappings from a config file. Primary goal: enable small deployments to get started with epithet without building custom policy infrastructure.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-16T08:14:45.251262-08:00","updated_at":"2025-11-17T08:57:02.060839-08:00","closed_at":"2025-11-17T08:57:02.060839-08:00","dependencies":[{"issue_id":"epithet-bgl","depends_on_id":"epithet-3tw","type":"blocks","created_at":"2025-11-16T08:15:23.659265-08:00","created_by":"daemon"}]}
{"id":"epithet-25","title":"Create per-connection agent instances using pkg/agent.Agent","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T15:10:13.805836-07:00","closed_at":"2025-10-25T15:10:13.805836-07:00","dependencies":[{"issue_id":"epithet-25","depends_on_id":"epithet-14","type":"parent-child","created_at":"2025-10-22T16:09:07.721274-07:00","created_by":"import"}]}
{"id":"epithet-10","title":"Implement token refresh on certificate expiry","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T12:00:11.742798-07:00","closed_at":"2025-10-25T12:00:11.742798-07:00","dependencies":[{"issue_id":"epithet-10","depends_on_id":"epithet-1","type":"parent-child","created_at":"2025-10-22T16:09:07.717454-07:00","created_by":"import"}]}
{"id":"epithet-61","title":"Add 'epithet aws ca' subcommand for Lambda deployment","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-01T12:26:16.359635-07:00","updated_at":"2025-11-01T12:26:16.359635-07:00"}
{"id":"epithet-56","title":"Update development-tools.md to remove pattern-based mode references","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-31T15:11:02.462729-07:00","updated_at":"2025-10-31T15:11:49.958437-07:00","closed_at":"2025-10-31T15:11:49.958437-07:00"}
{"id":"epithet-64","title":"Fix Python policy Lambda dependency packaging for ARM64","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T14:43:23.569986-08:00","updated_at":"2025-11-09T14:43:23.569986-08:00"}
{"id":"epithet-riw","title":"Increase log retention - Change CloudWatch log retention from 7 to 30 days","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:58.120983-08:00","updated_at":"2025-11-13T19:44:58.120983-08:00","dependencies":[{"issue_id":"epithet-riw","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:19.058832-08:00","created_by":"daemon"}]}
{"id":"epithet-27","title":"Implement agent socket path management at ~/.epithet/sockets/%C","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T15:10:23.276431-07:00","closed_at":"2025-10-25T15:10:23.276431-07:00","dependencies":[{"issue_id":"epithet-27","depends_on_id":"epithet-14","type":"parent-child","created_at":"2025-10-22T16:09:07.721819-07:00","created_by":"import"}]}
{"id":"epithet-3jc","title":"Set up Go module structure for epithet-aws","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T08:04:32.007361-08:00","updated_at":"2025-11-18T08:40:30.326824-08:00","closed_at":"2025-11-18T08:40:30.326824-08:00"}
{"id":"epithet-45","title":"Make broker socket path configurable to support multiple concurrent brokers","description":"Currently the broker socket path defaults to ~/.epithet/broker.sock, which prevents running multiple brokers concurrently. Need to make this configurable.\n\nUse case: User may want separate brokers for work vs personal, different CA servers, different match patterns, etc.\n\nExample setup:\n- Work broker: --broker-sock ~/.epithet/work-broker.sock --match *.work.example.com\n- Personal broker: --broker-sock ~/.epithet/personal-broker.sock --match *.personal.example.com\n\nChanges needed:\n1. epithet agent command: Already has default, keep it configurable via flag/config\n2. epithet match command: Add --broker flag to specify which broker to connect to (currently hardcoded in match.go)\n3. Update SSH config examples to show broker selection\n\nNote: Agent socket directory is already configurable via --agent-sock-dir flag ✓\n\nFiles to update:\n- cmd/epithet/match.go - Add --broker flag, use instead of hardcoded path\n- cmd/epithet/agent.go - Already has --broker-sock flag ✓\n- SSH config examples in docs\n","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-25T18:57:24.191353-07:00","updated_at":"2025-10-27T16:07:48.384628-07:00","closed_at":"2025-10-27T16:07:48.384634-07:00"}
{"id":"epithet-67","title":"Create pkg/auth/oidc package with core auth flow","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-09T19:29:43.850623-08:00","updated_at":"2025-11-09T20:18:01.597361-08:00","closed_at":"2025-11-09T20:18:01.597361-08:00"}
{"id":"epithet-ly7","title":"Set Secrets Manager recovery window - Change CA key secret recovery window from 0 to 7 days","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:43.368165-08:00","updated_at":"2025-11-13T19:44:43.368165-08:00","dependencies":[{"issue_id":"epithet-ly7","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:18.965512-08:00","created_by":"daemon"}]}
{"id":"epithet-9jy","title":"Optimize Lambda memory settings - Load test CA Lambda with different memory allocations to find optimal cost/performance","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:51.182411-08:00","updated_at":"2025-11-13T19:44:51.182411-08:00","dependencies":[{"issue_id":"epithet-9jy","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:18.992313-08:00","created_by":"daemon"}]}
{"id":"epithet-tvl","title":"Fix CORS configuration on CA API - Remove wildcard CORS origins, restrict to specific domains or remove entirely","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:43.30836-08:00","updated_at":"2025-11-13T19:44:43.30836-08:00","dependencies":[{"issue_id":"epithet-tvl","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:18.922958-08:00","created_by":"daemon"}]}
{"id":"epithet-8h0","title":"Optimize AWS Lambda infrastructure for security, reliability, and production readiness","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-13T19:44:36.10079-08:00","updated_at":"2025-11-13T19:44:36.10079-08:00"}
{"id":"epithet-43","title":"Add comprehensive concurrency documentation and fix race conditions","description":"Add locking invariants documentation to Broker, Agent, Auth, and CertificateStore. Remove unused Agent.lock field. Fix race condition in sshd test helper by wrapping bytes.Buffer with thread-safe safeBuffer. All code now passes race detector tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-25T15:43:03.632286-07:00","updated_at":"2025-10-25T15:43:08.355558-07:00","closed_at":"2025-10-25T15:43:08.355558-07:00"}
{"id":"epithet-7r8","title":"Revisit certificate principal assignment after improving policy matching","description":"Currently policy server issues certs with single principal (RemoteUser). Could issue certs with all authorized principals once broker's policy matching (pkg/broker/certs.go) supports matching on user/identity/principals, not just hostname. This would enable certificate reuse across multiple principals. Blocked by epithet-44 (expand policy matching beyond hostname).","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T19:20:46.649372-08:00","updated_at":"2025-11-16T19:20:46.649372-08:00","dependencies":[{"issue_id":"epithet-7r8","depends_on_id":"epithet-44","type":"blocks","created_at":"2025-11-16T19:20:50.922188-08:00","created_by":"daemon"}]}
{"id":"epithet-qaa","title":"Extract AWS-specific code into epithet-aws project","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-18T08:03:58.86623-08:00","updated_at":"2025-11-18T08:40:30.455222-08:00","closed_at":"2025-11-18T08:40:30.455222-08:00"}
{"id":"epithet-1cm","title":"Add X-Ray tracing support - Enable toggleable X-Ray tracing for debugging","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:58.100253-08:00","updated_at":"2025-11-13T19:44:58.100253-08:00","dependencies":[{"issue_id":"epithet-1cm","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:19.046317-08:00","created_by":"daemon"}]}
{"id":"epithet-9","title":"Implement certificate storage (map of connection hash → certificate + expiry)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T11:32:56.612656-07:00","closed_at":"2025-10-25T11:32:56.612656-07:00","dependencies":[{"issue_id":"epithet-9","depends_on_id":"epithet-1","type":"parent-child","created_at":"2025-10-22T16:09:07.724945-07:00","created_by":"import"}]}
{"id":"epithet-8","title":"Implement auth state storage (map of user identity → state blob)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-22T16:09:07.715489-07:00","closed_at":"2025-10-22T22:16:49.792978424Z","dependencies":[{"issue_id":"epithet-8","depends_on_id":"epithet-1","type":"parent-child","created_at":"2025-10-22T16:09:07.724683-07:00","created_by":"import"}]}
{"id":"epithet-ubg","title":"Extract common policy server logic to pkg/policyserver","description":"Create pkg/policyserver package with PolicyEvaluator interface, request/response types, and HTTP handler builder. Refactor dev policy server and AWS Lambda policy example to use this shared package.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T18:03:20.930767-08:00","updated_at":"2025-11-16T18:03:26.345214-08:00","closed_at":"2025-11-16T18:03:26.345214-08:00"}
{"id":"epithet-26","title":"Implement map connection hash (%C) → agent instance","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T15:10:23.197188-07:00","closed_at":"2025-10-25T15:10:23.197188-07:00","dependencies":[{"issue_id":"epithet-26","depends_on_id":"epithet-14","type":"parent-child","created_at":"2025-10-22T16:09:07.721543-07:00","created_by":"import"}]}
{"id":"epithet-i51","title":"Configure Dead Letter Queue - Add SQS DLQ for failed Lambda invocations with CloudWatch alarms","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:58.17895-08:00","updated_at":"2025-11-13T19:44:58.17895-08:00","dependencies":[{"issue_id":"epithet-i51","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:19.098112-08:00","created_by":"daemon"}]}
{"id":"epithet-m7r","title":"Write comprehensive policy server tests","description":"Unit tests for: token validation (valid/invalid/expired tokens), policy evaluation (matches, denials, wildcards), HTTP protocol compliance. Integration test: full flow with real OIDC provider (or mock).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T08:15:04.773275-08:00","updated_at":"2025-11-17T08:53:23.733734-08:00","closed_at":"2025-11-17T08:53:23.733734-08:00","dependencies":[{"issue_id":"epithet-m7r","depends_on_id":"epithet-2u7","type":"blocks","created_at":"2025-11-16T08:15:23.489845-08:00","created_by":"daemon"},{"issue_id":"epithet-m7r","depends_on_id":"epithet-axf","type":"blocks","created_at":"2025-11-16T08:15:23.523436-08:00","created_by":"daemon"},{"issue_id":"epithet-m7r","depends_on_id":"epithet-02i","type":"blocks","created_at":"2025-11-16T08:15:23.556819-08:00","created_by":"daemon"}]}
{"id":"epithet-xkw","title":"Extract policy server to separate example project","description":"Move policy server Lambda code to a new standalone example project (e.g., examples/policy-server-basic/) so it can be deployed independently from the CA server.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-09T20:37:21.01385-08:00","updated_at":"2025-11-09T20:37:21.01385-08:00"}
{"id":"epithet-pf8","title":"Update dev policy server","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-19T17:10:43.928584-08:00","updated_at":"2025-11-19T17:10:43.928584-08:00","dependencies":[{"issue_id":"epithet-pf8","depends_on_id":"epithet-1b5","type":"blocks","created_at":"2025-11-19T17:10:48.097972-08:00","created_by":"daemon"}]}
{"id":"epithet-16","title":"Create match command structure accepting --host, --port, --user, --hash arguments","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-22T16:09:07.715489-07:00","closed_at":"2025-10-22T16:35:23.674384024Z","dependencies":[{"issue_id":"epithet-16","depends_on_id":"epithet-12","type":"parent-child","created_at":"2025-10-22T16:09:07.718368-07:00","created_by":"import"}]}
{"id":"epithet-20","title":"Return success/failure to OpenSSH properly","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-22T16:09:07.715489-07:00","closed_at":"2025-10-22T16:36:42.750426903Z","dependencies":[{"issue_id":"epithet-20","depends_on_id":"epithet-12","type":"parent-child","created_at":"2025-10-22T16:09:07.719802-07:00","created_by":"import"}]}
{"id":"epithet-33","title":"Implement socket cleanup on expiration","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-27T16:55:50.724833-07:00","closed_at":"2025-10-27T16:55:50.724838-07:00","dependencies":[{"issue_id":"epithet-33","depends_on_id":"epithet-15","type":"parent-child","created_at":"2025-10-22T16:09:07.723517-07:00","created_by":"import"}]}
{"id":"epithet-44","title":"Expand policy matching beyond hostname to support per-user certificates","description":"Current limitation: Policy only matches on hostPattern, but different remote users connecting to the same host may need different certificates with different principals (e.g., deploy@server vs root@server).\n\nProblem: If user SSHs to deploy@server.example.com (gets cert with principal 'deploy'), then later SSHs to root@server.example.com, the cert store lookup finds the existing cert (matches *.example.com) but it only has 'deploy' principal, not 'root', causing SSH to fail.\n\nSolution: Expand Policy struct to match on additional connection fields beyond just hostname:\n- remoteUser (e.g., 'deploy', 'root', '*')\n- Potentially localUser, port, etc.\n\nDesign questions to resolve:\n1. Should matching be AND logic (all fields must match) or pattern-based with wildcards per field?\n2. Should lookup prefer exact matches first, then fall back to broader patterns? Or most-specific-match-wins?\n3. How do we handle wildcard patterns in multiple dimensions?\n\nThis affects:\n- pkg/policy/policy.go - Policy struct and Matches() method\n- pkg/broker/certs.go - CertificateStore.Lookup() logic\n- Policy server API - may need to return more granular policies","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-25T18:39:38.843754-07:00","updated_at":"2025-10-25T18:39:38.843754-07:00"}
{"id":"epithet-66","title":"Add OIDC dependencies to go.mod","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-09T19:29:43.80108-08:00","updated_at":"2025-11-09T20:18:01.556973-08:00","closed_at":"2025-11-09T20:18:01.556973-08:00"}
{"id":"epithet-60","title":"Set up OpenTofu example deployment for AWS Lambda + API Gateway","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-01T12:12:28.969253-07:00","updated_at":"2025-11-01T12:12:28.969253-07:00"}
{"id":"epithet-47","title":"Implement 401 retry logic in broker: clear token, re-auth, retry cert request (limit retries to prevent infinite loops)","description":"When CA returns 401 Unauthorized: 1) Clear the current token, 2) Invoke auth plugin (which may use refresh token from state or do full re-auth), 3) Retry cert request with new token. Limit retries to prevent infinite loops with buggy auth plugins (suggest max 2-3 attempts). Use immediate retries (no backoff delay) - if there's a persistent issue, user will see the error and can retry the SSH connection. If retries exhausted, fail the Match and log error to stderr per epithet-48.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-25T19:46:17.050687-07:00","updated_at":"2025-10-27T16:03:48.518019-07:00","closed_at":"2025-10-27T16:03:48.518026-07:00"}
{"id":"epithet-59","title":"Update README.md to reflect new dev policy server changes","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-31T15:18:58.960645-07:00","updated_at":"2025-10-31T15:19:19.874349-07:00","closed_at":"2025-10-31T15:19:19.874349-07:00"}
{"id":"epithet-oh4","title":"Implement structured logging - Add JSON logging to epithet binary for CloudWatch Insights queries","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:51.241776-08:00","updated_at":"2025-11-13T19:44:51.241776-08:00","dependencies":[{"issue_id":"epithet-oh4","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:19.033318-08:00","created_by":"daemon"}]}
{"id":"epithet-ra1","title":"Design policy configuration file format","description":"Define the structure for the policy config file: user identity mappings, host patterns, principals, certificate parameters. Should be simple text format (YAML/JSON/TOML) with clear documentation.","notes":"COMPLETED: Final design uses simplified YAML/CUE format with oidc as string (issuer URL only). Structure: ca_public_key (string), oidc (string), users (map[string][]string), defaults (allow/expiration/extensions), hosts (per-host overrides). Updated docs/policy-config-design.md with complete spec, examples, and Go struct definitions. Ready for implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T08:15:04.571349-08:00","updated_at":"2025-11-16T17:57:23.162529-08:00","closed_at":"2025-11-16T08:18:23.938014-08:00"}
{"id":"epithet-19","title":"Add host eligibility checking (match patterns)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T15:28:02.945282-07:00","closed_at":"2025-10-25T15:28:02.945282-07:00","dependencies":[{"issue_id":"epithet-19","depends_on_id":"epithet-12","type":"parent-child","created_at":"2025-10-22T16:09:07.719466-07:00","created_by":"import"}]}
{"id":"epithet-42","title":"Update caserver for v2: accept match data and return policy with certificate","description":"Currently CreateCertRequest only has token+publicKey. Need to add match data (RemoteHost, RemoteUser, Port, etc.) and pass to policy server. CreateCertResponse should return both certificate and policy pattern so broker can store it.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-25T12:16:55.355488-07:00","updated_at":"2025-10-25T12:18:32.616775-07:00","closed_at":"2025-10-25T12:18:32.616775-07:00"}
{"id":"epithet-30","title":"Implement match pattern evaluation (which hosts epithet should handle)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T15:42:57.317814-07:00","closed_at":"2025-10-25T15:42:57.317814-07:00","dependencies":[{"issue_id":"epithet-30","depends_on_id":"epithet-15","type":"parent-child","created_at":"2025-10-22T16:09:07.722621-07:00","created_by":"import"}]}
{"id":"epithet-cn4","title":"Create epithet-aws README and documentation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T08:04:32.249018-08:00","updated_at":"2025-11-18T08:40:30.374577-08:00","closed_at":"2025-11-18T08:40:30.374577-08:00"}
{"id":"epithet-u3q","title":"Update policyserver evaluator","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-19T17:10:43.966224-08:00","updated_at":"2025-11-19T17:10:43.966224-08:00","dependencies":[{"issue_id":"epithet-u3q","depends_on_id":"epithet-1b5","type":"blocks","created_at":"2025-11-19T17:10:48.152742-08:00","created_by":"daemon"}]}
{"id":"epithet-40","title":"Handle re-authentication when CA returns 403/Forbidden","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-25T12:00:36.648331-07:00","updated_at":"2025-10-27T16:03:48.592838-07:00","closed_at":"2025-10-27T16:03:48.592844-07:00","dependencies":[{"issue_id":"epithet-40","depends_on_id":"epithet-1","type":"blocks","created_at":"2025-10-25T12:00:36.650962-07:00","created_by":"daemon"}]}
{"id":"epithet-21","title":"Implement certificate request flow: auth token → CA → signed certificate","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T15:10:02.800425-07:00","closed_at":"2025-10-25T15:10:02.800425-07:00","dependencies":[{"issue_id":"epithet-21","depends_on_id":"epithet-13","type":"parent-child","created_at":"2025-10-22T16:09:07.720137-07:00","created_by":"import"}]}
{"id":"epithet-11","title":"Implement error handling and retry logic for auth","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-27T16:04:14.503926-07:00","closed_at":"2025-10-27T16:04:14.503933-07:00","dependencies":[{"issue_id":"epithet-11","depends_on_id":"epithet-1","type":"parent-child","created_at":"2025-10-22T16:09:07.717949-07:00","created_by":"import"}]}
{"id":"epithet-37","title":"Fill in the rest of the %C connection fields in broker.go","description":"In pkg/broker/broker.go:30, the ConnectionInfo struct needs the remaining fields from the %C hash (local hostname, remote hostname, port, username, ProxyJump)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-22T16:09:07.715489-07:00","closed_at":"2025-10-22T16:18:48.190311982Z"}
{"id":"epithet-2u7","title":"Implement OIDC token validation","description":"Create token validator that: 1) Parses JWT from request, 2) Validates signature against OIDC provider's JWKS, 3) Checks standard claims (exp, iss, aud), 4) Extracts identity (email/subject). Use coreos/go-oidc library.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T08:15:04.608829-08:00","updated_at":"2025-11-16T18:17:29.314464-08:00","closed_at":"2025-11-16T18:17:29.314464-08:00","dependencies":[{"issue_id":"epithet-2u7","depends_on_id":"epithet-ra1","type":"blocks","created_at":"2025-11-16T08:15:13.491755-08:00","created_by":"daemon"}]}
{"id":"epithet-46","title":"Explore SSH Match exec behavior: can we fail just the Match or does it abort the entire SSH connection?","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-25T19:44:34.301361-07:00","updated_at":"2025-10-25T19:44:34.301361-07:00"}
{"id":"epithet-35j","title":"Copy AWS Lambda command code","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T08:04:32.073537-08:00","updated_at":"2025-11-18T08:40:30.338455-08:00","closed_at":"2025-11-18T08:40:30.338455-08:00"}
{"id":"epithet-58","title":"Update --ca-pubkey to accept URL, file path, or literal key","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-31T15:16:03.9881-07:00","updated_at":"2025-10-31T15:18:07.932844-07:00","closed_at":"2025-10-31T15:18:07.932844-07:00"}
{"id":"epithet-uz8","title":"Update all tests","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-19T17:10:44.038633-08:00","updated_at":"2025-11-19T17:10:44.038633-08:00","dependencies":[{"issue_id":"epithet-uz8","depends_on_id":"epithet-1b5","type":"blocks","created_at":"2025-11-19T17:10:48.260882-08:00","created_by":"daemon"},{"issue_id":"epithet-uz8","depends_on_id":"epithet-4hx","type":"blocks","created_at":"2025-11-19T17:10:48.315169-08:00","created_by":"daemon"},{"issue_id":"epithet-uz8","depends_on_id":"epithet-u3q","type":"blocks","created_at":"2025-11-19T17:10:48.368884-08:00","created_by":"daemon"}]}
{"id":"epithet-18m","title":"Make CA server accept policy URL from environment variable","description":"CA server currently has policy URL configured via flag. Need to also support POLICY_URL environment variable so it can be configured in Lambda without changing code.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-09T20:37:20.968014-08:00","updated_at":"2025-11-09T20:37:20.968014-08:00","dependencies":[{"issue_id":"epithet-18m","depends_on_id":"epithet-xkw","type":"blocks","created_at":"2025-11-09T20:37:28.943426-08:00","created_by":"daemon"},{"issue_id":"epithet-18m","depends_on_id":"epithet-abk","type":"blocks","created_at":"2025-11-09T20:37:28.995405-08:00","created_by":"daemon"}]}
{"id":"epithet-65","title":"Implement epithet auth oidc command for Google Workspace and other OIDC providers","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-09T19:29:35.865063-08:00","updated_at":"2025-11-09T20:18:01.777428-08:00","closed_at":"2025-11-09T20:18:01.777428-08:00"}
{"id":"epithet-o39","title":"Copy S3 cert archiver code","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-18T08:04:32.13271-08:00","updated_at":"2025-11-18T08:40:30.350858-08:00","closed_at":"2025-11-18T08:40:30.350858-08:00"}
{"id":"epithet-u2h","title":"Move policy secret to Secrets Manager - Store POLICY_SECRET in Secrets Manager instead of Lambda environment variable","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:43.329036-08:00","updated_at":"2025-11-13T19:44:43.329036-08:00","dependencies":[{"issue_id":"epithet-u2h","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:18.938044-08:00","created_by":"daemon"}]}
{"id":"epithet-70","title":"Add tests for OIDC auth flow","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-09T19:29:43.996024-08:00","updated_at":"2025-11-09T20:18:01.733002-08:00","closed_at":"2025-11-09T20:18:01.733002-08:00"}
{"id":"epithet-14","title":"Broker → Agent management","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-27T16:04:52.022792-07:00","closed_at":"2025-10-27T16:04:52.022795-07:00"}
{"id":"epithet-3tw","title":"Create example deployment and documentation","description":"Add examples/basic-policy/ with: sample policy config, deployment guide, integration with epithet auth oidc, end-to-end setup instructions. Update CLAUDE.md to reference this as the reference implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T08:15:04.810005-08:00","updated_at":"2025-11-17T08:57:02.004286-08:00","closed_at":"2025-11-17T08:57:02.004286-08:00","dependencies":[{"issue_id":"epithet-3tw","depends_on_id":"epithet-1wc","type":"blocks","created_at":"2025-11-16T08:15:23.589797-08:00","created_by":"daemon"},{"issue_id":"epithet-3tw","depends_on_id":"epithet-m7r","type":"blocks","created_at":"2025-11-16T08:15:23.622169-08:00","created_by":"daemon"}]}
{"id":"epithet-rz9","title":"Split AWS Lambda examples into separate CA and policy server projects","description":"Currently examples/aws-lambda contains both CA and policy server. Need to split into separate deployable projects so they can be deployed independently. This allows using the basic policy server example while keeping the CA server in the main repo.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-09T20:37:20.917494-08:00","updated_at":"2025-11-09T20:37:20.917494-08:00","dependencies":[{"issue_id":"epithet-rz9","depends_on_id":"epithet-18m","type":"parent-child","created_at":"2025-11-09T20:37:29.042867-08:00","created_by":"daemon"},{"issue_id":"epithet-rz9","depends_on_id":"epithet-xkw","type":"parent-child","created_at":"2025-11-09T20:37:29.084033-08:00","created_by":"daemon"},{"issue_id":"epithet-rz9","depends_on_id":"epithet-abk","type":"parent-child","created_at":"2025-11-09T20:37:29.127713-08:00","created_by":"daemon"}]}
{"id":"epithet-50","title":"Parse SSH certificate ValidBefore field to get actual expiry time instead of hardcoding 5 minutes","description":"Currently broker.Match() and ensureAgent() hardcode 5-minute expiry with TODO comments. Need to parse the SSH certificate to extract ValidBefore timestamp and use that for expiration tracking in agentEntry and PolicyCert. The golang.org/x/crypto/ssh library provides this functionality. Certificate is the source of truth for expiry time.","status":"closed","issue_type":"task","created_at":"2025-10-25T20:05:43.536749-07:00","updated_at":"2025-10-27T16:03:16.619446-07:00","closed_at":"2025-10-27T16:03:16.619452-07:00"}
{"id":"epithet-52","title":"Extract pkg/netstr into standalone library","status":"open","priority":3,"issue_type":"task","created_at":"2025-10-27T15:59:38.496556-07:00","updated_at":"2025-10-27T15:59:38.496556-07:00"}
{"id":"epithet-18","title":"Implement 5-step certificate validation workflow","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T15:03:32.80585-07:00","closed_at":"2025-10-25T15:03:32.80585-07:00","dependencies":[{"issue_id":"epithet-18","depends_on_id":"epithet-12","type":"parent-child","created_at":"2025-10-22T16:09:07.719097-07:00","created_by":"import"}]}
{"id":"epithet-6kl","title":"Implement HostUsers policy mapping","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-19T17:10:39.303481-08:00","updated_at":"2025-11-19T17:10:39.303481-08:00"}
{"id":"epithet-15","title":"Infrastructure improvements","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-27T16:04:52.101259-07:00","closed_at":"2025-10-27T16:04:52.101263-07:00"}
{"id":"epithet-tck","title":"Configure S3 backend for Terraform state - Move from local state to S3 backend with DynamoDB locking","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:51.202581-08:00","updated_at":"2025-11-13T19:44:51.202581-08:00","dependencies":[{"issue_id":"epithet-tck","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:19.006385-08:00","created_by":"daemon"}]}
{"id":"epithet-55","title":"Simplify dev policy server to only allow-all and deny-all modes","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-31T15:07:33.819211-07:00","updated_at":"2025-10-31T15:08:52.812267-07:00","closed_at":"2025-10-31T15:08:52.812267-07:00"}
{"id":"epithet-54","title":"Support ProxyJump by adding multiple certificates to per-connection agents","notes":"FALSE ALARM - No work needed!\n\nAfter detailed analysis, the per-connection agent design ALREADY handles ProxyJump correctly:\n\n1. Each hop in a ProxyJump chain spawns a separate SSH process on local machine\n2. Each process reads ~/.ssh/config and evaluates Match exec independently  \n3. Each process gets its own %C hash (which includes %j - the ProxyJump value)\n4. Each process uses its own IdentityAgent socket path (based on its unique %C)\n5. epithet match is called separately for each hop with the correct target host\n\nExample: ssh -J jumphost remote\n- SSH Process 1: Match exec for jumphost -\u003e agent at %C_jump with jumphost cert\n- SSH Process 2: Match exec for remote -\u003e agent at %C_remote with remote cert\n\nBoth processes authenticate independently with their respective certificates. The design is sound!\n\nThe %j field is still useful for:\n- Logging/debugging (knowing which connections use jumps)\n- Policy decisions (CA might care if connection uses ProxyJump)\n- Future optimizations\n\nBut core functionality works without any code changes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-10-29T20:36:50.010906-07:00","updated_at":"2025-10-29T20:43:17.385604-07:00","closed_at":"2025-10-29T20:43:05.55326-07:00"}
{"id":"epithet-l5g","title":"Implement rate limiting - Add API Gateway usage plans or WAF rules to prevent abuse","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:58.159126-08:00","updated_at":"2025-11-13T19:44:58.159126-08:00","dependencies":[{"issue_id":"epithet-l5g","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:19.084947-08:00","created_by":"daemon"}]}
{"id":"epithet-22","title":"Pass connection details (host, user, port) to CA for principal determination","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-25T15:10:02.875796-07:00","closed_at":"2025-10-25T15:10:02.875796-07:00","dependencies":[{"issue_id":"epithet-22","depends_on_id":"epithet-13","type":"parent-child","created_at":"2025-10-22T16:09:07.720431-07:00","created_by":"import"}]}
{"id":"epithet-32","title":"Add logging and observability","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-27T16:04:37.870628-07:00","closed_at":"2025-10-27T16:04:37.870634-07:00","dependencies":[{"issue_id":"epithet-32","depends_on_id":"epithet-15","type":"parent-child","created_at":"2025-10-22T16:09:07.723201-07:00","created_by":"import"}]}
{"id":"epithet-48","title":"When epithet cannot obtain certificate, fail the Match (return non-zero) and log clear error to stderr","description":"When epithet cannot obtain a certificate (auth failures, CA errors, etc), the Match exec should: 1) Log clear, user-friendly error message to stderr explaining what went wrong (verbosity matching configured log level - helpful by default, more detail with -v flags), 2) Exit with non-zero status to fail the Match, 3) Allow SSH to fall through to subsequent Match blocks or default config. This enables breakglass/fallback scenarios where users have epithet Match blocks first, followed by special-case configs (e.g., breakglass@host with specific IdentityFile). Trade-off: May leak connection attempts to fallback systems, but this is acceptable to enable legitimate escape hatches.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-25T19:51:28.702502-07:00","updated_at":"2025-10-27T16:03:48.667018-07:00","closed_at":"2025-10-27T16:03:48.667023-07:00"}
{"id":"epithet-lml","title":"Add multi-environment support - Create dev/staging/prod environment separation with tfvars files","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:51.222069-08:00","updated_at":"2025-11-13T19:44:51.222069-08:00","dependencies":[{"issue_id":"epithet-lml","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:19.020036-08:00","created_by":"daemon"},{"issue_id":"epithet-lml","depends_on_id":"epithet-tck","type":"blocks","created_at":"2025-11-13T19:45:24.104938-08:00","created_by":"daemon"}]}
{"id":"epithet-r71","title":"Add custom domain names - Configure ACM certificates and Route53 for professional CA URLs","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:58.139731-08:00","updated_at":"2025-11-13T19:44:58.139731-08:00","dependencies":[{"issue_id":"epithet-r71","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:19.071887-08:00","created_by":"daemon"}]}
{"id":"epithet-53","title":"Switch auth plugin protocol to fd 3 approach","description":"Replace netstring-based protocol with simpler file descriptor approach. New protocol: stdin=state, stdout=token, fd3=new_state, stderr=errors. No encoding needed, state never touches disk, easy in all languages. Changes: update CLAUDE.md docs, remove pkg/netstr, update broker to use pipes, update examples.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-27T19:50:51.322878-07:00","updated_at":"2025-10-27T20:06:09.973441-07:00","closed_at":"2025-10-27T20:06:09.973441-07:00"}
{"id":"epithet-49","title":"Handle agent creation failures: keep cert in store, fail Match with clear error about local system issue","description":"When certificate is valid but agent creation fails (socket directory permissions, disk space, etc): 1) Keep certificate in cert store (it's valid and may work on retry or for other connections), 2) Fail the Match with clear error explaining the agent creation problem (not a cert/auth issue), 3) User can fix local issue and retry. Agent creation failures are typically local system problems, not certificate/policy problems.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-25T20:03:10.81255-07:00","updated_at":"2025-10-27T16:04:37.643402-07:00","closed_at":"2025-10-27T16:04:37.643412-07:00"}
{"id":"epithet-gz5","title":"Make policy API internal-only - Replace public API Gateway with direct Lambda-to-Lambda invocation","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-13T19:44:51.161637-08:00","updated_at":"2025-11-13T19:44:51.161637-08:00","dependencies":[{"issue_id":"epithet-gz5","depends_on_id":"epithet-8h0","type":"blocks","created_at":"2025-11-13T19:45:18.97876-08:00","created_by":"daemon"},{"issue_id":"epithet-gz5","depends_on_id":"epithet-u2h","type":"blocks","created_at":"2025-11-13T19:45:24.090291-08:00","created_by":"daemon"}]}
{"id":"epithet-57","title":"Add --ca-pubkey flag to dev policy server for signature verification","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-31T15:12:39.542406-07:00","updated_at":"2025-10-31T15:13:44.674776-07:00","closed_at":"2025-10-31T15:13:44.674776-07:00"}
{"id":"epithet-34","title":"Implement graceful shutdown","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-22T16:09:07.715489-07:00","updated_at":"2025-10-27T18:36:07.515899-07:00","dependencies":[{"issue_id":"epithet-34","depends_on_id":"epithet-15","type":"parent-child","created_at":"2025-10-22T16:09:07.723805-07:00","created_by":"import"}]}
{"id":"epithet-68","title":"Add cmd/epithet/auth_oidc.go command","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-09T19:29:43.90002-08:00","updated_at":"2025-11-09T20:18:01.643496-08:00","closed_at":"2025-11-09T20:18:01.643496-08:00"}
{"id":"epithet-1wc","title":"Add 'epithet policy' command","description":"Create CLI command 'epithet policy --config \u003cfile\u003e --address \u003caddr\u003e [--ca-public-key \u003ckey\u003e]' that starts the policy server. Should support same deployment modes as CA (standalone binary, AWS Lambda via EPITHET_CMD).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T08:15:04.732564-08:00","updated_at":"2025-11-17T08:50:19.393501-08:00","closed_at":"2025-11-17T08:50:19.393501-08:00","dependencies":[{"issue_id":"epithet-1wc","depends_on_id":"epithet-02i","type":"blocks","created_at":"2025-11-16T08:15:13.597469-08:00","created_by":"daemon"}]}
{"id":"epithet-7pp","title":"Clean up deploy-policy.sh script to be a better reusable example","notes":"Current script is too specific to one setup - needs to be more generic and reusable. Should be a better example for users deploying their own infrastructure. Consider: making it more modular, clearer documentation, fewer assumptions about existing setup.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-17T20:57:41.318646-08:00","updated_at":"2025-11-17T20:57:49.664694-08:00"}
{"id":"epithet-9bf","title":"Update broker logging","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-19T17:10:44.003105-08:00","updated_at":"2025-11-19T17:10:44.003105-08:00","dependencies":[{"issue_id":"epithet-9bf","depends_on_id":"epithet-1b5","type":"blocks","created_at":"2025-11-19T17:10:48.207644-08:00","created_by":"daemon"}]}
{"id":"epithet-4hx","title":"Update CertificateStore Store/Lookup","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-19T17:10:43.890876-08:00","updated_at":"2025-11-19T17:10:43.890876-08:00","dependencies":[{"issue_id":"epithet-4hx","depends_on_id":"epithet-1b5","type":"blocks","created_at":"2025-11-19T17:10:48.041245-08:00","created_by":"daemon"}]}
{"id":"epithet-63","title":"Make config file template expansion more robust","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T13:40:28.675409-08:00","updated_at":"2025-11-09T13:40:28.675409-08:00"}
